{% extends "workout/workout_base.html" %}
{% load i18n %}
{% load staticfiles %}

{% block title %} <h1> {{ workout.title }} â€“ {{ workout.get_day_display }} </h1>{% endblock %}


{% block content %}
    <table style="width:50%;" class="table table-bordered">
    <thead>
            <tr style="background: #E0E0E0;">
            <th>{% trans "Order" %}</th>
            <th>{% trans "Exercise" %}</th>
            <th class="align-right">{% trans "Sets" %}</th>
            <th class="align-right">{% trans "Reps" %}</th>
            <th class="align-right">{% trans "Unit" %}</th>
        </tr>
    </thead>
    <tbody>
{% for work in workout.set_set.all %}
    {% if user.is_authenticated %}
    <tr>
        {% ifchanged work.pk %}
        <td width="10%" rowspan="{{work.set_set.count}}">
            <strong>
            {% trans "Nr."%} {{ forloop.counter }}
            </strong>
            {% if user.is_superuser %}
                    <div class="editoptions">
                        <a href="{% url 'workout:delete_set' workout.id work.id %}"
                           title="{% trans 'Delete' %}">
                          <span class="glyphicon glyphicon-trash"></span>&nbsp;</a>
                    </div>
            {% endif %}
        </td>
        {% endifchanged %}
        <td>{{ work.exercise }}</td>
        <td width="10%" class="">{{work.reps}}</td>
        <td width="10%" class="">{{work.sets}}</td>
        <td width="10%" class="">{{work.get_unit_display}}</td>
    </tr>
    {% endif %}
{% endfor %}

        {% if user.is_superuser %}
        <tr>
            <td colspan="6">
            <a href="{% url 'workout:add_set' workout.id %}">
                <span class="glyphicon glyphicon-plus"></span>&nbsp;
                {% trans "Add a new exercise" %}
            </a>
            </td>
        <tr>
    {% endif %}
    </tbody>
</table>

        {% if user.is_superuser %}
        <div class="col-sm-12">
                <br>
                <a href="{% url 'workout:delete_workout' workout.id %}">
                    <button type="button" class="btn btn-danger">
                        <span class="glyphicon glyphicon-plus"></span>&nbsp; Delete Workout Day
                    </button>
                </a>
            </div>
        {% endif %}
{% endblock %}






{#         #}
{# Options #}
{#         #}
{% block options %}
<div class="btn-group">
    <button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="glyphicon glyphicon-cog"></span>&nbsp;
        {% trans "Options" %}
    </button>
    <ul class="dropdown-menu">
        {% if is_owner %}
        {% endif %}
        {% if is_owner %}
        <li role="separator" class="divider"></li>
        <li>
            <a href="{% url 'workout:delete' workout.id  %}" class="wger-modal-dialog">
                <span class="glyphicon glyphicon-trash"></span>&nbsp;
                {% trans "Delete this workout" %}
            </a>
        </li>
    </ul>
</div>
{% endif %}
{% endblock %}
